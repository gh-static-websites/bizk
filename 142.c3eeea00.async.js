"use strict";(self.webpackChunkbizk=self.webpackChunkbizk||[]).push([[142],{89112:function(ut,Fe,p){p.d(Fe,{Z:function(){return L}});var ke=p(57873),fe=p(84159),ce=p(37467),Ke=p(41171),Ne=p(63832),F=p(37280),o=p(80892),Te=p(9826),x=p(81485),k=p(82187),re=p.n(k),ie=p(90403),j=p(50959),ue=p(21449),Ze=function(S){for(var J=S.prefixCls,n=S.level,ee=S.isStart,U=S.isEnd,ne="".concat(J,"-indent-unit"),l=[],u=0;u<n;u+=1)l.push(j.createElement("span",{key:u,className:re()(ne,(0,x.Z)((0,x.Z)({},"".concat(ne,"-start"),ee[u]),"".concat(ne,"-end"),U[u]))}));return j.createElement("span",{"aria-hidden":"true",className:"".concat(J,"-indent")},l)},A=j.memo(Ze),xe=p(44979),le=p(74409),he=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],te="open",s="close",y="---",O=function(z){(0,o.Z)(J,z);var S=(0,Te.Z)(J);function J(){var n;(0,Ke.Z)(this,J);for(var ee=arguments.length,U=new Array(ee),ne=0;ne<ee;ne++)U[ne]=arguments[ne];return n=S.call.apply(S,[this].concat(U)),(0,x.Z)((0,F.Z)(n),"state",{dragNodeHighlight:!1}),(0,x.Z)((0,F.Z)(n),"selectHandle",void 0),(0,x.Z)((0,F.Z)(n),"cacheIndent",void 0),(0,x.Z)((0,F.Z)(n),"onSelectorClick",function(l){var u=n.props.context.onNodeClick;u(l,(0,le.F)(n.props)),n.isSelectable()?n.onSelect(l):n.onCheck(l)}),(0,x.Z)((0,F.Z)(n),"onSelectorDoubleClick",function(l){var u=n.props.context.onNodeDoubleClick;u(l,(0,le.F)(n.props))}),(0,x.Z)((0,F.Z)(n),"onSelect",function(l){if(!n.isDisabled()){var u=n.props.context.onNodeSelect;u(l,(0,le.F)(n.props))}}),(0,x.Z)((0,F.Z)(n),"onCheck",function(l){if(!n.isDisabled()){var u=n.props,T=u.disableCheckbox,w=u.checked,W=n.props.context.onNodeCheck;if(!(!n.isCheckable()||T)){var ve=!w;W(l,(0,le.F)(n.props),ve)}}}),(0,x.Z)((0,F.Z)(n),"onMouseEnter",function(l){var u=n.props.context.onNodeMouseEnter;u(l,(0,le.F)(n.props))}),(0,x.Z)((0,F.Z)(n),"onMouseLeave",function(l){var u=n.props.context.onNodeMouseLeave;u(l,(0,le.F)(n.props))}),(0,x.Z)((0,F.Z)(n),"onContextMenu",function(l){var u=n.props.context.onNodeContextMenu;u(l,(0,le.F)(n.props))}),(0,x.Z)((0,F.Z)(n),"onDragStart",function(l){var u=n.props.context.onNodeDragStart;l.stopPropagation(),n.setState({dragNodeHighlight:!0}),u(l,(0,F.Z)(n));try{l.dataTransfer.setData("text/plain","")}catch(T){}}),(0,x.Z)((0,F.Z)(n),"onDragEnter",function(l){var u=n.props.context.onNodeDragEnter;l.preventDefault(),l.stopPropagation(),u(l,(0,F.Z)(n))}),(0,x.Z)((0,F.Z)(n),"onDragOver",function(l){var u=n.props.context.onNodeDragOver;l.preventDefault(),l.stopPropagation(),u(l,(0,F.Z)(n))}),(0,x.Z)((0,F.Z)(n),"onDragLeave",function(l){var u=n.props.context.onNodeDragLeave;l.stopPropagation(),u(l,(0,F.Z)(n))}),(0,x.Z)((0,F.Z)(n),"onDragEnd",function(l){var u=n.props.context.onNodeDragEnd;l.stopPropagation(),n.setState({dragNodeHighlight:!1}),u(l,(0,F.Z)(n))}),(0,x.Z)((0,F.Z)(n),"onDrop",function(l){var u=n.props.context.onNodeDrop;l.preventDefault(),l.stopPropagation(),n.setState({dragNodeHighlight:!1}),u(l,(0,F.Z)(n))}),(0,x.Z)((0,F.Z)(n),"onExpand",function(l){var u=n.props,T=u.loading,w=u.context.onNodeExpand;T||w(l,(0,le.F)(n.props))}),(0,x.Z)((0,F.Z)(n),"setSelectHandle",function(l){n.selectHandle=l}),(0,x.Z)((0,F.Z)(n),"getNodeState",function(){var l=n.props.expanded;return n.isLeaf()?null:l?te:s}),(0,x.Z)((0,F.Z)(n),"hasChildren",function(){var l=n.props.eventKey,u=n.props.context.keyEntities,T=(0,xe.Z)(u,l)||{},w=T.children;return!!(w||[]).length}),(0,x.Z)((0,F.Z)(n),"isLeaf",function(){var l=n.props,u=l.isLeaf,T=l.loaded,w=n.props.context.loadData,W=n.hasChildren();return u===!1?!1:u||!w&&!W||w&&T&&!W}),(0,x.Z)((0,F.Z)(n),"isDisabled",function(){var l=n.props.disabled,u=n.props.context.disabled;return!!(u||l)}),(0,x.Z)((0,F.Z)(n),"isCheckable",function(){var l=n.props.checkable,u=n.props.context.checkable;return!u||l===!1?!1:u}),(0,x.Z)((0,F.Z)(n),"syncLoadData",function(l){var u=l.expanded,T=l.loading,w=l.loaded,W=n.props.context,ve=W.loadData,ge=W.onNodeLoad;T||ve&&u&&!n.isLeaf()&&!n.hasChildren()&&!w&&ge((0,le.F)(n.props))}),(0,x.Z)((0,F.Z)(n),"isDraggable",function(){var l=n.props,u=l.data,T=l.context.draggable;return!!(T&&(!T.nodeDraggable||T.nodeDraggable(u)))}),(0,x.Z)((0,F.Z)(n),"renderDragHandler",function(){var l=n.props.context,u=l.draggable,T=l.prefixCls;return u!=null&&u.icon?j.createElement("span",{className:"".concat(T,"-draggable-icon")},u.icon):null}),(0,x.Z)((0,F.Z)(n),"renderSwitcherIconDom",function(l){var u=n.props.switcherIcon,T=n.props.context.switcherIcon,w=u||T;return typeof w=="function"?w((0,ce.Z)((0,ce.Z)({},n.props),{},{isLeaf:l})):w}),(0,x.Z)((0,F.Z)(n),"renderSwitcher",function(){var l=n.props.expanded,u=n.props.context.prefixCls;if(n.isLeaf()){var T=n.renderSwitcherIconDom(!0);return T!==!1?j.createElement("span",{className:re()("".concat(u,"-switcher"),"".concat(u,"-switcher-noop"))},T):null}var w=re()("".concat(u,"-switcher"),"".concat(u,"-switcher_").concat(l?te:s)),W=n.renderSwitcherIconDom(!1);return W!==!1?j.createElement("span",{onClick:n.onExpand,className:w},W):null}),(0,x.Z)((0,F.Z)(n),"renderCheckbox",function(){var l=n.props,u=l.checked,T=l.halfChecked,w=l.disableCheckbox,W=n.props.context.prefixCls,ve=n.isDisabled(),ge=n.isCheckable();if(!ge)return null;var V=typeof ge!="boolean"?ge:null;return j.createElement("span",{className:re()("".concat(W,"-checkbox"),u&&"".concat(W,"-checkbox-checked"),!u&&T&&"".concat(W,"-checkbox-indeterminate"),(ve||w)&&"".concat(W,"-checkbox-disabled")),onClick:n.onCheck},V)}),(0,x.Z)((0,F.Z)(n),"renderIcon",function(){var l=n.props.loading,u=n.props.context.prefixCls;return j.createElement("span",{className:re()("".concat(u,"-iconEle"),"".concat(u,"-icon__").concat(n.getNodeState()||"docu"),l&&"".concat(u,"-icon_loading"))})}),(0,x.Z)((0,F.Z)(n),"renderSelector",function(){var l=n.state.dragNodeHighlight,u=n.props,T=u.title,w=T===void 0?y:T,W=u.selected,ve=u.icon,ge=u.loading,V=u.data,Se=n.props.context,pe=Se.prefixCls,Ue=Se.showIcon,We=Se.icon,Ye=Se.loadData,q=Se.titleRender,Oe=n.isDisabled(),ze="".concat(pe,"-node-content-wrapper"),v;if(Ue){var P=ve||We;v=P?j.createElement("span",{className:re()("".concat(pe,"-iconEle"),"".concat(pe,"-icon__customize"))},typeof P=="function"?P(n.props):P):n.renderIcon()}else Ye&&ge&&(v=n.renderIcon());var C;typeof w=="function"?C=w(V):q?C=q(V):C=w;var b=j.createElement("span",{className:"".concat(pe,"-title")},C);return j.createElement("span",{ref:n.setSelectHandle,title:typeof w=="string"?w:"",className:re()("".concat(ze),"".concat(ze,"-").concat(n.getNodeState()||"normal"),!Oe&&(W||l)&&"".concat(pe,"-node-selected")),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onContextMenu:n.onContextMenu,onClick:n.onSelectorClick,onDoubleClick:n.onSelectorDoubleClick},v,b,n.renderDropIndicator())}),(0,x.Z)((0,F.Z)(n),"renderDropIndicator",function(){var l=n.props,u=l.disabled,T=l.eventKey,w=n.props.context,W=w.draggable,ve=w.dropLevelOffset,ge=w.dropPosition,V=w.prefixCls,Se=w.indent,pe=w.dropIndicatorRender,Ue=w.dragOverNodeKey,We=w.direction,Ye=!!W,q=!u&&Ye&&Ue===T,Oe=Se!=null?Se:n.cacheIndent;return n.cacheIndent=Se,q?pe({dropPosition:ge,dropLevelOffset:ve,indent:Oe,prefixCls:V,direction:We}):null}),n}return(0,Ne.Z)(J,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var ee=this.props.selectable,U=this.props.context.selectable;return typeof ee=="boolean"?ee:U}},{key:"render",value:function(){var ee,U=this.props,ne=U.eventKey,l=U.className,u=U.style,T=U.dragOver,w=U.dragOverGapTop,W=U.dragOverGapBottom,ve=U.isLeaf,ge=U.isStart,V=U.isEnd,Se=U.expanded,pe=U.selected,Ue=U.checked,We=U.halfChecked,Ye=U.loading,q=U.domRef,Oe=U.active,ze=U.data,v=U.onMouseMove,P=U.selectable,C=(0,fe.Z)(U,he),b=this.props.context,i=b.prefixCls,h=b.filterTreeNode,m=b.keyEntities,e=b.dropContainerKey,c=b.dropTargetKey,M=b.draggingNodeKey,Z=this.isDisabled(),t=(0,ie.Z)(C,{aria:!0,data:!0}),a=(0,xe.Z)(m,ne)||{},r=a.level,d=V[V.length-1],f=this.isDraggable(),g=!Z&&f,K=M===ne,N=P!==void 0?{"aria-selected":!!P}:void 0;return j.createElement("div",(0,ke.Z)({ref:q,className:re()(l,"".concat(i,"-treenode"),(ee={},(0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)(ee,"".concat(i,"-treenode-disabled"),Z),"".concat(i,"-treenode-switcher-").concat(Se?"open":"close"),!ve),"".concat(i,"-treenode-checkbox-checked"),Ue),"".concat(i,"-treenode-checkbox-indeterminate"),We),"".concat(i,"-treenode-selected"),pe),"".concat(i,"-treenode-loading"),Ye),"".concat(i,"-treenode-active"),Oe),"".concat(i,"-treenode-leaf-last"),d),"".concat(i,"-treenode-draggable"),f),"dragging",K),(0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)(ee,"drop-target",c===ne),"drop-container",e===ne),"drag-over",!Z&&T),"drag-over-gap-top",!Z&&w),"drag-over-gap-bottom",!Z&&W),"filter-node",h&&h((0,le.F)(this.props))))),style:u,draggable:g,"aria-grabbed":K,onDragStart:g?this.onDragStart:void 0,onDragEnter:f?this.onDragEnter:void 0,onDragOver:f?this.onDragOver:void 0,onDragLeave:f?this.onDragLeave:void 0,onDrop:f?this.onDrop:void 0,onDragEnd:f?this.onDragEnd:void 0,onMouseMove:v},N,t),j.createElement(A,{prefixCls:i,level:r,isStart:ge,isEnd:V}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),J}(j.Component),I=function(S){return j.createElement(ue.k.Consumer,null,function(J){return j.createElement(O,(0,ke.Z)({},S,{context:J}))})};I.displayName="TreeNode",I.isTreeNode=1;var L=I},21449:function(ut,Fe,p){p.d(Fe,{k:function(){return fe}});var ke=p(50959),fe=ke.createContext(null)},43142:function(ut,Fe,p){p.d(Fe,{O:function(){return L.Z},Z:function(){return b}});var ke=p(57873),fe=p(25190),ce=p(37467),Ke=p(41709),Ne=p(41171),F=p(63832),o=p(37280),Te=p(80892),x=p(9826),k=p(81485),re=p(82187),ie=p.n(re),j=p(14283),ue=p(90403),Ze=p(77151),A=p(50959),xe=p(21449);function le(i){var h=i.dropPosition,m=i.dropLevelOffset,e=i.indent,c={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(h){case-1:c.top=0,c.left=-m*e;break;case 1:c.bottom=0,c.left=-m*e;break;case 0:c.bottom=0,c.left=e;break}return A.createElement("div",{style:c})}function he(i){if(i==null)throw new TypeError("Cannot destructure "+i)}var te=p(61992),s=p(84159),y=p(5074),O=p(63143),I=p(10091),L=p(89112);function z(i,h){var m=A.useState(!1),e=(0,te.Z)(m,2),c=e[0],M=e[1];(0,y.Z)(function(){if(c)return i(),function(){h()}},[c]),(0,y.Z)(function(){return M(!0),function(){M(!1)}},[])}var S=p(74409),J=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],n=function(h,m){var e=h.className,c=h.style,M=h.motion,Z=h.motionNodes,t=h.motionType,a=h.onMotionStart,r=h.onMotionEnd,d=h.active,f=h.treeNodeRequiredProps,g=(0,s.Z)(h,J),K=A.useState(!0),N=(0,te.Z)(K,2),$=N[0],E=N[1],D=A.useContext(xe.k),Q=D.prefixCls,R=Z&&t!=="hide";(0,y.Z)(function(){Z&&R!==$&&E(R)},[Z]);var H=function(){Z&&a()},B=A.useRef(!1),G=function(){Z&&!B.current&&(B.current=!0,r())};z(H,G);var ae=function(_){R===_&&G()};return Z?A.createElement(I.ZP,(0,ke.Z)({ref:m,visible:$},M,{motionAppear:t==="show",onVisibleChanged:ae}),function(se,_){var ye=se.className,me=se.style;return A.createElement("div",{ref:_,className:ie()("".concat(Q,"-treenode-motion"),ye),style:me},Z.map(function(oe){var be=Object.assign({},(he(oe.data),oe.data)),Ce=oe.title,Le=oe.key,Be=oe.isStart,Me=oe.isEnd;delete be.children;var $e=(0,S.H8)(Le,f);return A.createElement(L.Z,(0,ke.Z)({},be,$e,{title:Ce,active:d,data:oe.data,key:Le,isStart:Be,isEnd:Me}))}))}):A.createElement(L.Z,(0,ke.Z)({domRef:m,className:e,style:c},g,{active:d}))};n.displayName="MotionTreeNode";var ee=A.forwardRef(n),U=ee;function ne(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=i.length,e=h.length;if(Math.abs(m-e)!==1)return{add:!1,key:null};function c(M,Z){var t=new Map;M.forEach(function(r){t.set(r,!0)});var a=Z.filter(function(r){return!t.has(r)});return a.length===1?a[0]:null}return m<e?{add:!0,key:c(i,h)}:{add:!1,key:c(h,i)}}function l(i,h,m){var e=i.findIndex(function(t){return t.key===m}),c=i[e+1],M=h.findIndex(function(t){return t.key===m});if(c){var Z=h.findIndex(function(t){return t.key===c.key});return h.slice(M+1,Z)}return h.slice(M+1)}var u=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],T={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},w=function(){},W="RC_TREE_MOTION_".concat(Math.random()),ve={key:W},ge={key:W,level:0,index:0,pos:"0",node:ve,nodes:[ve]},V={parent:null,children:[],pos:ge.pos,data:ve,title:null,key:W,isStart:[],isEnd:[]};function Se(i,h,m,e){return h===!1||!m?i:i.slice(0,Math.ceil(m/e)+1)}function pe(i){var h=i.key,m=i.pos;return(0,S.km)(h,m)}function Ue(i){for(var h=String(i.data.key),m=i;m.parent;)m=m.parent,h="".concat(m.data.key," > ").concat(h);return h}var We=A.forwardRef(function(i,h){var m=i.prefixCls,e=i.data,c=i.selectable,M=i.checkable,Z=i.expandedKeys,t=i.selectedKeys,a=i.checkedKeys,r=i.loadedKeys,d=i.loadingKeys,f=i.halfCheckedKeys,g=i.keyEntities,K=i.disabled,N=i.dragging,$=i.dragOverNodeKey,E=i.dropPosition,D=i.motion,Q=i.height,R=i.itemHeight,H=i.virtual,B=i.focusable,G=i.activeItem,ae=i.focused,se=i.tabIndex,_=i.onKeyDown,ye=i.onFocus,me=i.onBlur,oe=i.onActiveChange,be=i.onListChangeStart,Ce=i.onListChangeEnd,Le=(0,s.Z)(i,u),Be=A.useRef(null),Me=A.useRef(null);A.useImperativeHandle(h,function(){return{scrollTo:function(Ge){Be.current.scrollTo(Ge)},getIndentWidth:function(){return Me.current.offsetWidth}}});var $e=A.useState(Z),Xe=(0,te.Z)($e,2),tt=Xe[0],nt=Xe[1],it=A.useState(e),je=(0,te.Z)(it,2),Pe=je[0],Ae=je[1],De=A.useState(e),Re=(0,te.Z)(De,2),He=Re[0],Ve=Re[1],Je=A.useState([]),st=(0,te.Z)(Je,2),yt=st[0],ft=st[1],mt=A.useState(null),_e=(0,te.Z)(mt,2),vt=_e[0],rt=_e[1],at=A.useRef(e);at.current=e;function ht(){var Ee=at.current;Ae(Ee),Ve(Ee),ft([]),rt(null),Ce()}(0,y.Z)(function(){nt(Z);var Ee=ne(tt,Z);if(Ee.key!==null)if(Ee.add){var Ge=Pe.findIndex(function(pt){var dt=pt.key;return dt===Ee.key}),qe=Se(l(Pe,e,Ee.key),H,Q,R),lt=Pe.slice();lt.splice(Ge+1,0,V),Ve(lt),ft(qe),rt("show")}else{var et=e.findIndex(function(pt){var dt=pt.key;return dt===Ee.key}),Ie=Se(l(e,Pe,Ee.key),H,Q,R),gt=e.slice();gt.splice(et+1,0,V),Ve(gt),ft(Ie),rt("hide")}else Pe!==e&&(Ae(e),Ve(e))},[Z,e]),A.useEffect(function(){N||ht()},[N]);var Qe=D?He:e,ot={expandedKeys:Z,selectedKeys:t,loadedKeys:r,loadingKeys:d,checkedKeys:a,halfCheckedKeys:f,dragOverNodeKey:$,dropPosition:E,keyEntities:g};return A.createElement(A.Fragment,null,ae&&G&&A.createElement("span",{style:T,"aria-live":"assertive"},Ue(G)),A.createElement("div",null,A.createElement("input",{style:T,disabled:B===!1||K,tabIndex:B!==!1?se:null,onKeyDown:_,onFocus:ye,onBlur:me,value:"",onChange:w,"aria-label":"for screen reader"})),A.createElement("div",{className:"".concat(m,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},A.createElement("div",{className:"".concat(m,"-indent")},A.createElement("div",{ref:Me,className:"".concat(m,"-indent-unit")}))),A.createElement(O.Z,(0,ke.Z)({},Le,{data:Qe,itemKey:pe,height:Q,fullHeight:!1,virtual:H,itemHeight:R,prefixCls:"".concat(m,"-list"),ref:Be,onVisibleChange:function(Ge,qe){var lt=new Set(Ge),et=qe.filter(function(Ie){return!lt.has(Ie)});et.some(function(Ie){return pe(Ie)===W})&&ht()}}),function(Ee){var Ge=Ee.pos,qe=Object.assign({},(he(Ee.data),Ee.data)),lt=Ee.title,et=Ee.key,Ie=Ee.isStart,gt=Ee.isEnd,pt=(0,S.km)(et,Ge);delete qe.key,delete qe.children;var dt=(0,S.H8)(pt,ot);return A.createElement(U,(0,ke.Z)({},qe,dt,{title:lt,active:!!G&&et===G.key,pos:Ge,data:Ee.data,isStart:Ie,isEnd:gt,motion:D,motionNodes:et===W?yt:null,motionType:vt,onMotionStart:be,onMotionEnd:ht,treeNodeRequiredProps:ot,onMouseMove:function(){oe(null)}}))}))});We.displayName="NodeList";var Ye=We,q=p(7856),Oe=p(4909),ze=p(44979),v=10,P=function(i){(0,Te.Z)(m,i);var h=(0,x.Z)(m);function m(){var e;(0,Ne.Z)(this,m);for(var c=arguments.length,M=new Array(c),Z=0;Z<c;Z++)M[Z]=arguments[Z];return e=h.call.apply(h,[this].concat(M)),(0,k.Z)((0,o.Z)(e),"destroyed",!1),(0,k.Z)((0,o.Z)(e),"delayedDragEnterLogic",void 0),(0,k.Z)((0,o.Z)(e),"loadingRetryTimes",{}),(0,k.Z)((0,o.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,S.w$)()}),(0,k.Z)((0,o.Z)(e),"dragStartMousePosition",null),(0,k.Z)((0,o.Z)(e),"dragNode",void 0),(0,k.Z)((0,o.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,k.Z)((0,o.Z)(e),"listRef",A.createRef()),(0,k.Z)((0,o.Z)(e),"onNodeDragStart",function(t,a){var r=e.state,d=r.expandedKeys,f=r.keyEntities,g=e.props.onDragStart,K=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var N=(0,q._5)(d,K);e.setState({draggingNodeKey:K,dragChildrenKeys:(0,q.wA)(K,f),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(N),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:(0,S.F)(a.props)})}),(0,k.Z)((0,o.Z)(e),"onNodeDragEnter",function(t,a){var r=e.state,d=r.expandedKeys,f=r.keyEntities,g=r.dragChildrenKeys,K=r.flattenNodes,N=r.indent,$=e.props,E=$.onDragEnter,D=$.onExpand,Q=$.allowDrop,R=$.direction,H=a.props,B=H.pos,G=H.eventKey,ae=(0,o.Z)(e),se=ae.dragNode;if(e.currentMouseOverDroppableNodeKey!==G&&(e.currentMouseOverDroppableNodeKey=G),!se){e.resetDragState();return}var _=(0,q.OM)(t,se,a,N,e.dragStartMousePosition,Q,K,f,d,R),ye=_.dropPosition,me=_.dropLevelOffset,oe=_.dropTargetKey,be=_.dropContainerKey,Ce=_.dropTargetPos,Le=_.dropAllowed,Be=_.dragOverNodeKey;if(g.indexOf(oe)!==-1||!Le){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Me){clearTimeout(e.delayedDragEnterLogic[Me])}),se.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[B]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Me=(0,Ke.Z)(d),$e=(0,ze.Z)(f,a.props.eventKey);$e&&($e.children||[]).length&&(Me=(0,q.L0)(d,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Me),D==null||D(Me,{node:(0,S.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),se.props.eventKey===oe&&me===0){e.resetDragState();return}e.setState({dragOverNodeKey:Be,dropPosition:ye,dropLevelOffset:me,dropTargetKey:oe,dropContainerKey:be,dropTargetPos:Ce,dropAllowed:Le}),E==null||E({event:t,node:(0,S.F)(a.props),expandedKeys:d})}),(0,k.Z)((0,o.Z)(e),"onNodeDragOver",function(t,a){var r=e.state,d=r.dragChildrenKeys,f=r.flattenNodes,g=r.keyEntities,K=r.expandedKeys,N=r.indent,$=e.props,E=$.onDragOver,D=$.allowDrop,Q=$.direction,R=(0,o.Z)(e),H=R.dragNode;if(H){var B=(0,q.OM)(t,H,a,N,e.dragStartMousePosition,D,f,g,K,Q),G=B.dropPosition,ae=B.dropLevelOffset,se=B.dropTargetKey,_=B.dropContainerKey,ye=B.dropAllowed,me=B.dropTargetPos,oe=B.dragOverNodeKey;d.indexOf(se)!==-1||!ye||(H.props.eventKey===se&&ae===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():G===e.state.dropPosition&&ae===e.state.dropLevelOffset&&se===e.state.dropTargetKey&&_===e.state.dropContainerKey&&me===e.state.dropTargetPos&&ye===e.state.dropAllowed&&oe===e.state.dragOverNodeKey||e.setState({dropPosition:G,dropLevelOffset:ae,dropTargetKey:se,dropContainerKey:_,dropTargetPos:me,dropAllowed:ye,dragOverNodeKey:oe}),E==null||E({event:t,node:(0,S.F)(a.props)}))}}),(0,k.Z)((0,o.Z)(e),"onNodeDragLeave",function(t,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:(0,S.F)(a.props)})}),(0,k.Z)((0,o.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,o.Z)(e),"onNodeDragEnd",function(t,a){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:(0,S.F)(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,k.Z)((0,o.Z)(e),"onNodeDrop",function(t,a){var r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=e.state,g=f.dragChildrenKeys,K=f.dropPosition,N=f.dropTargetKey,$=f.dropTargetPos,E=f.dropAllowed;if(E){var D=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),N!==null){var Q=(0,ce.Z)((0,ce.Z)({},(0,S.H8)(N,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===N,data:(0,ze.Z)(e.state.keyEntities,N).node}),R=g.indexOf(N)!==-1;(0,Ze.ZP)(!R,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var H=(0,q.yx)($),B={event:t,node:(0,S.F)(Q),dragNode:e.dragNode?(0,S.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:K!==0,dropPosition:K+Number(H[H.length-1])};d||D==null||D(B),e.dragNode=null}}}),(0,k.Z)((0,o.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,k.Z)((0,o.Z)(e),"triggerExpandActionExpand",function(t,a){var r=e.state,d=r.expandedKeys,f=r.flattenNodes,g=a.expanded,K=a.key,N=a.isLeaf;if(!(N||t.shiftKey||t.metaKey||t.ctrlKey)){var $=f.filter(function(D){return D.key===K})[0],E=(0,S.F)((0,ce.Z)((0,ce.Z)({},(0,S.H8)(K,e.getTreeNodeRequiredProps())),{},{data:$.data}));e.setExpandedKeys(g?(0,q._5)(d,K):(0,q.L0)(d,K)),e.onNodeExpand(t,E)}}),(0,k.Z)((0,o.Z)(e),"onNodeClick",function(t,a){var r=e.props,d=r.onClick,f=r.expandAction;f==="click"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,k.Z)((0,o.Z)(e),"onNodeDoubleClick",function(t,a){var r=e.props,d=r.onDoubleClick,f=r.expandAction;f==="doubleClick"&&e.triggerExpandActionExpand(t,a),d==null||d(t,a)}),(0,k.Z)((0,o.Z)(e),"onNodeSelect",function(t,a){var r=e.state.selectedKeys,d=e.state,f=d.keyEntities,g=d.fieldNames,K=e.props,N=K.onSelect,$=K.multiple,E=a.selected,D=a[g.key],Q=!E;Q?$?r=(0,q.L0)(r,D):r=[D]:r=(0,q._5)(r,D);var R=r.map(function(H){var B=(0,ze.Z)(f,H);return B?B.node:null}).filter(function(H){return H});e.setUncontrolledState({selectedKeys:r}),N==null||N(r,{event:"select",selected:Q,node:a,selectedNodes:R,nativeEvent:t.nativeEvent})}),(0,k.Z)((0,o.Z)(e),"onNodeCheck",function(t,a,r){var d=e.state,f=d.keyEntities,g=d.checkedKeys,K=d.halfCheckedKeys,N=e.props,$=N.checkStrictly,E=N.onCheck,D=a.key,Q,R={event:"check",node:a,checked:r,nativeEvent:t.nativeEvent};if($){var H=r?(0,q.L0)(g,D):(0,q._5)(g,D),B=(0,q._5)(K,D);Q={checked:H,halfChecked:B},R.checkedNodes=H.map(function(me){return(0,ze.Z)(f,me)}).filter(function(me){return me}).map(function(me){return me.node}),e.setUncontrolledState({checkedKeys:H})}else{var G=(0,Oe.S)([].concat((0,Ke.Z)(g),[D]),!0,f),ae=G.checkedKeys,se=G.halfCheckedKeys;if(!r){var _=new Set(ae);_.delete(D);var ye=(0,Oe.S)(Array.from(_),{checked:!1,halfCheckedKeys:se},f);ae=ye.checkedKeys,se=ye.halfCheckedKeys}Q=ae,R.checkedNodes=[],R.checkedNodesPositions=[],R.halfCheckedKeys=se,ae.forEach(function(me){var oe=(0,ze.Z)(f,me);if(oe){var be=oe.node,Ce=oe.pos;R.checkedNodes.push(be),R.checkedNodesPositions.push({node:be,pos:Ce})}}),e.setUncontrolledState({checkedKeys:ae},!1,{halfCheckedKeys:se})}E==null||E(Q,R)}),(0,k.Z)((0,o.Z)(e),"onNodeLoad",function(t){var a=t.key,r=new Promise(function(d,f){e.setState(function(g){var K=g.loadedKeys,N=K===void 0?[]:K,$=g.loadingKeys,E=$===void 0?[]:$,D=e.props,Q=D.loadData,R=D.onLoad;if(!Q||N.indexOf(a)!==-1||E.indexOf(a)!==-1)return null;var H=Q(t);return H.then(function(){var B=e.state.loadedKeys,G=(0,q.L0)(B,a);R==null||R(G,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:G}),e.setState(function(ae){return{loadingKeys:(0,q._5)(ae.loadingKeys,a)}}),d()}).catch(function(B){if(e.setState(function(ae){return{loadingKeys:(0,q._5)(ae.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=v){var G=e.state.loadedKeys;(0,Ze.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,q.L0)(G,a)}),d()}f(B)}),{loadingKeys:(0,q.L0)(E,a)}})});return r.catch(function(){}),r}),(0,k.Z)((0,o.Z)(e),"onNodeMouseEnter",function(t,a){var r=e.props.onMouseEnter;r==null||r({event:t,node:a})}),(0,k.Z)((0,o.Z)(e),"onNodeMouseLeave",function(t,a){var r=e.props.onMouseLeave;r==null||r({event:t,node:a})}),(0,k.Z)((0,o.Z)(e),"onNodeContextMenu",function(t,a){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:a}))}),(0,k.Z)((0,o.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];t==null||t.apply(void 0,r)}),(0,k.Z)((0,o.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];t==null||t.apply(void 0,r)}),(0,k.Z)((0,o.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,a=t.expandedKeys,r=t.selectedKeys,d=t.loadedKeys,f=t.loadingKeys,g=t.checkedKeys,K=t.halfCheckedKeys,N=t.dragOverNodeKey,$=t.dropPosition,E=t.keyEntities;return{expandedKeys:a||[],selectedKeys:r||[],loadedKeys:d||[],loadingKeys:f||[],checkedKeys:g||[],halfCheckedKeys:K||[],dragOverNodeKey:N,dropPosition:$,keyEntities:E}}),(0,k.Z)((0,o.Z)(e),"setExpandedKeys",function(t){var a=e.state,r=a.treeData,d=a.fieldNames,f=(0,S.oH)(r,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:f},!0)}),(0,k.Z)((0,o.Z)(e),"onNodeExpand",function(t,a){var r=e.state.expandedKeys,d=e.state,f=d.listChanging,g=d.fieldNames,K=e.props,N=K.onExpand,$=K.loadData,E=a.expanded,D=a[g.key];if(!f){var Q=r.indexOf(D),R=!E;if((0,Ze.ZP)(E&&Q!==-1||!E&&Q===-1,"Expand state not sync with index check"),R?r=(0,q.L0)(r,D):r=(0,q._5)(r,D),e.setExpandedKeys(r),N==null||N(r,{node:a,expanded:R,nativeEvent:t.nativeEvent}),R&&$){var H=e.onNodeLoad(a);H&&H.then(function(){var B=(0,S.oH)(e.state.treeData,r,g);e.setUncontrolledState({flattenNodes:B})}).catch(function(){var B=e.state.expandedKeys,G=(0,q._5)(B,D);e.setExpandedKeys(G)})}}}),(0,k.Z)((0,o.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,k.Z)((0,o.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,k.Z)((0,o.Z)(e),"onActiveChange",function(t){var a=e.state.activeKey,r=e.props,d=r.onActiveChange,f=r.itemScrollOffset,g=f===void 0?0:f;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:g}),d==null||d(t))}),(0,k.Z)((0,o.Z)(e),"getActiveItem",function(){var t=e.state,a=t.activeKey,r=t.flattenNodes;return a===null?null:r.find(function(d){var f=d.key;return f===a})||null}),(0,k.Z)((0,o.Z)(e),"offsetActiveKey",function(t){var a=e.state,r=a.flattenNodes,d=a.activeKey,f=r.findIndex(function(N){var $=N.key;return $===d});f===-1&&t<0&&(f=r.length),f=(f+t+r.length)%r.length;var g=r[f];if(g){var K=g.key;e.onActiveChange(K)}else e.onActiveChange(null)}),(0,k.Z)((0,o.Z)(e),"onKeyDown",function(t){var a=e.state,r=a.activeKey,d=a.expandedKeys,f=a.checkedKeys,g=a.fieldNames,K=e.props,N=K.onKeyDown,$=K.checkable,E=K.selectable;switch(t.which){case j.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case j.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var D=e.getActiveItem();if(D&&D.data){var Q=e.getTreeNodeRequiredProps(),R=D.data.isLeaf===!1||!!(D.data[g.children]||[]).length,H=(0,S.F)((0,ce.Z)((0,ce.Z)({},(0,S.H8)(r,Q)),{},{data:D.data,active:!0}));switch(t.which){case j.Z.LEFT:{R&&d.includes(r)?e.onNodeExpand({},H):D.parent&&e.onActiveChange(D.parent.key),t.preventDefault();break}case j.Z.RIGHT:{R&&!d.includes(r)?e.onNodeExpand({},H):D.children&&D.children.length&&e.onActiveChange(D.children[0].key),t.preventDefault();break}case j.Z.ENTER:case j.Z.SPACE:{$&&!H.disabled&&H.checkable!==!1&&!H.disableCheckbox?e.onNodeCheck({},H,!f.includes(r)):!$&&E&&!H.disabled&&H.selectable!==!1&&e.onNodeSelect({},H);break}}}N==null||N(t)}),(0,k.Z)((0,o.Z)(e),"setUncontrolledState",function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,f=!0,g={};Object.keys(t).forEach(function(K){if(K in e.props){f=!1;return}d=!0,g[K]=t[K]}),d&&(!a||f)&&e.setState((0,ce.Z)((0,ce.Z)({},g),r))}}),(0,k.Z)((0,o.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,F.Z)(m,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var c=this.props,M=c.activeKey,Z=c.itemScrollOffset,t=Z===void 0?0:Z;M!==void 0&&M!==this.state.activeKey&&(this.setState({activeKey:M}),M!==null&&this.scrollTo({key:M,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var c=this.state,M=c.focused,Z=c.flattenNodes,t=c.keyEntities,a=c.draggingNodeKey,r=c.activeKey,d=c.dropLevelOffset,f=c.dropContainerKey,g=c.dropTargetKey,K=c.dropPosition,N=c.dragOverNodeKey,$=c.indent,E=this.props,D=E.prefixCls,Q=E.className,R=E.style,H=E.showLine,B=E.focusable,G=E.tabIndex,ae=G===void 0?0:G,se=E.selectable,_=E.showIcon,ye=E.icon,me=E.switcherIcon,oe=E.draggable,be=E.checkable,Ce=E.checkStrictly,Le=E.disabled,Be=E.motion,Me=E.loadData,$e=E.filterTreeNode,Xe=E.height,tt=E.itemHeight,nt=E.virtual,it=E.titleRender,je=E.dropIndicatorRender,Pe=E.onContextMenu,Ae=E.onScroll,De=E.direction,Re=E.rootClassName,He=E.rootStyle,Ve=(0,ue.Z)(this.props,{aria:!0,data:!0}),Je;return oe&&((0,fe.Z)(oe)==="object"?Je=oe:typeof oe=="function"?Je={nodeDraggable:oe}:Je={}),A.createElement(xe.k.Provider,{value:{prefixCls:D,selectable:se,showIcon:_,icon:ye,switcherIcon:me,draggable:Je,draggingNodeKey:a,checkable:be,checkStrictly:Ce,disabled:Le,keyEntities:t,dropLevelOffset:d,dropContainerKey:f,dropTargetKey:g,dropPosition:K,dragOverNodeKey:N,indent:$,direction:De,dropIndicatorRender:je,loadData:Me,filterTreeNode:$e,titleRender:it,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},A.createElement("div",{role:"tree",className:ie()(D,Q,Re,(0,k.Z)((0,k.Z)((0,k.Z)({},"".concat(D,"-show-line"),H),"".concat(D,"-focused"),M),"".concat(D,"-active-focused"),r!==null)),style:He},A.createElement(Ye,(0,ke.Z)({ref:this.listRef,prefixCls:D,style:R,data:Z,disabled:Le,selectable:se,checkable:!!be,motion:Be,dragging:a!==null,height:Xe,itemHeight:tt,virtual:nt,focusable:B,focused:M,tabIndex:ae,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Pe,onScroll:Ae},this.getTreeNodeRequiredProps(),Ve))))}}],[{key:"getDerivedStateFromProps",value:function(c,M){var Z=M.prevProps,t={prevProps:c};function a(G){return!Z&&G in c||Z&&Z[G]!==c[G]}var r,d=M.fieldNames;if(a("fieldNames")&&(d=(0,S.w$)(c.fieldNames),t.fieldNames=d),a("treeData")?r=c.treeData:a("children")&&((0,Ze.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,S.zn)(c.children)),r){t.treeData=r;var f=(0,S.I8)(r,{fieldNames:d});t.keyEntities=(0,ce.Z)((0,k.Z)({},W,ge),f.keyEntities)}var g=t.keyEntities||M.keyEntities;if(a("expandedKeys")||Z&&a("autoExpandParent"))t.expandedKeys=c.autoExpandParent||!Z&&c.defaultExpandParent?(0,q.r7)(c.expandedKeys,g):c.expandedKeys;else if(!Z&&c.defaultExpandAll){var K=(0,ce.Z)({},g);delete K[W],t.expandedKeys=Object.keys(K).map(function(G){return K[G].key})}else!Z&&c.defaultExpandedKeys&&(t.expandedKeys=c.autoExpandParent||c.defaultExpandParent?(0,q.r7)(c.defaultExpandedKeys,g):c.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var N=(0,S.oH)(r||M.treeData,t.expandedKeys||M.expandedKeys,d);t.flattenNodes=N}if(c.selectable&&(a("selectedKeys")?t.selectedKeys=(0,q.BT)(c.selectedKeys,c):!Z&&c.defaultSelectedKeys&&(t.selectedKeys=(0,q.BT)(c.defaultSelectedKeys,c))),c.checkable){var $;if(a("checkedKeys")?$=(0,q.E6)(c.checkedKeys)||{}:!Z&&c.defaultCheckedKeys?$=(0,q.E6)(c.defaultCheckedKeys)||{}:r&&($=(0,q.E6)(c.checkedKeys)||{checkedKeys:M.checkedKeys,halfCheckedKeys:M.halfCheckedKeys}),$){var E=$,D=E.checkedKeys,Q=D===void 0?[]:D,R=E.halfCheckedKeys,H=R===void 0?[]:R;if(!c.checkStrictly){var B=(0,Oe.S)(Q,!0,g);Q=B.checkedKeys,H=B.halfCheckedKeys}t.checkedKeys=Q,t.halfCheckedKeys=H}}return a("loadedKeys")&&(t.loadedKeys=c.loadedKeys),t}}]),m}(A.Component);(0,k.Z)(P,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:le,allowDrop:function(){return!0},expandAction:!1}),(0,k.Z)(P,"TreeNode",L.Z);var C=P,b=C},7856:function(ut,Fe,p){p.d(Fe,{BT:function(){return A},E6:function(){return he},L0:function(){return k},OM:function(){return Ze},_5:function(){return x},r7:function(){return te},wA:function(){return ie},yx:function(){return re}});var ke=p(41709),fe=p(25190),ce=p(77151),Ke=p(50959),Ne=p(89112),F=p(44979),o=p(74409),Te=null;function x(s,y){if(!s)return[];var O=s.slice(),I=O.indexOf(y);return I>=0&&O.splice(I,1),O}function k(s,y){var O=(s||[]).slice();return O.indexOf(y)===-1&&O.push(y),O}function re(s){return s.split("-")}function ie(s,y){var O=[],I=(0,F.Z)(y,s);function L(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];z.forEach(function(S){var J=S.key,n=S.children;O.push(J),L(n)})}return L(I.children),O}function j(s){if(s.parent){var y=re(s.pos);return Number(y[y.length-1])===s.parent.children.length-1}return!1}function ue(s){var y=re(s.pos);return Number(y[y.length-1])===0}function Ze(s,y,O,I,L,z,S,J,n,ee){var U,ne=s.clientX,l=s.clientY,u=s.target.getBoundingClientRect(),T=u.top,w=u.height,W=(ee==="rtl"?-1:1)*(((L==null?void 0:L.x)||0)-ne),ve=(W-12)/I,ge=n.filter(function(i){var h;return(h=J[i])===null||h===void 0||(h=h.children)===null||h===void 0?void 0:h.length}),V=(0,F.Z)(J,O.props.eventKey);if(l<T+w/2){var Se=S.findIndex(function(i){return i.key===V.key}),pe=Se<=0?0:Se-1,Ue=S[pe].key;V=(0,F.Z)(J,Ue)}var We=V.key,Ye=V,q=V.key,Oe=0,ze=0;if(!ge.includes(We))for(var v=0;v<ve&&j(V);v+=1)V=V.parent,ze+=1;var P=y.props.data,C=V.node,b=!0;return ue(V)&&V.level===0&&l<T+w/2&&z({dragNode:P,dropNode:C,dropPosition:-1})&&V.key===O.props.eventKey?Oe=-1:(Ye.children||[]).length&&ge.includes(q)?z({dragNode:P,dropNode:C,dropPosition:0})?Oe=0:b=!1:ze===0?ve>-1.5?z({dragNode:P,dropNode:C,dropPosition:1})?Oe=1:b=!1:z({dragNode:P,dropNode:C,dropPosition:0})?Oe=0:z({dragNode:P,dropNode:C,dropPosition:1})?Oe=1:b=!1:z({dragNode:P,dropNode:C,dropPosition:1})?Oe=1:b=!1,{dropPosition:Oe,dropLevelOffset:ze,dropTargetKey:V.key,dropTargetPos:V.pos,dragOverNodeKey:q,dropContainerKey:Oe===0?null:((U=V.parent)===null||U===void 0?void 0:U.key)||null,dropAllowed:b}}function A(s,y){if(s){var O=y.multiple;return O?s.slice():s.length?[s[0]]:s}}var xe=function(y){return y};function le(s,y){if(!s)return[];var O=y||{},I=O.processProps,L=I===void 0?xe:I,z=Array.isArray(s)?s:[s];return z.map(function(S){var J=S.children,n=_objectWithoutProperties(S,Te),ee=le(J,y);return React.createElement(TreeNode,_extends({key:n.key},L(n)),ee)})}function he(s){if(!s)return null;var y;if(Array.isArray(s))y={checkedKeys:s,halfCheckedKeys:void 0};else if((0,fe.Z)(s)==="object")y={checkedKeys:s.checked||void 0,halfCheckedKeys:s.halfChecked||void 0};else return(0,ce.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return y}function te(s,y){var O=new Set;function I(L){if(!O.has(L)){var z=(0,F.Z)(y,L);if(z){O.add(L);var S=z.parent,J=z.node;J.disabled||S&&I(S.key)}}}return(s||[]).forEach(function(L){I(L)}),(0,ke.Z)(O)}},4909:function(ut,Fe,p){p.d(Fe,{S:function(){return o}});var ke=p(77151),fe=p(44979);function ce(Te,x){var k=new Set;return Te.forEach(function(re){x.has(re)||k.add(re)}),k}function Ke(Te){var x=Te||{},k=x.disabled,re=x.disableCheckbox,ie=x.checkable;return!!(k||re)||ie===!1}function Ne(Te,x,k,re){for(var ie=new Set(Te),j=new Set,ue=0;ue<=k;ue+=1){var Ze=x.get(ue)||new Set;Ze.forEach(function(he){var te=he.key,s=he.node,y=he.children,O=y===void 0?[]:y;ie.has(te)&&!re(s)&&O.filter(function(I){return!re(I.node)}).forEach(function(I){ie.add(I.key)})})}for(var A=new Set,xe=k;xe>=0;xe-=1){var le=x.get(xe)||new Set;le.forEach(function(he){var te=he.parent,s=he.node;if(!(re(s)||!he.parent||A.has(he.parent.key))){if(re(he.parent.node)){A.add(te.key);return}var y=!0,O=!1;(te.children||[]).filter(function(I){return!re(I.node)}).forEach(function(I){var L=I.key,z=ie.has(L);y&&!z&&(y=!1),!O&&(z||j.has(L))&&(O=!0)}),y&&ie.add(te.key),O&&j.add(te.key),A.add(te.key)}})}return{checkedKeys:Array.from(ie),halfCheckedKeys:Array.from(ce(j,ie))}}function F(Te,x,k,re,ie){for(var j=new Set(Te),ue=new Set(x),Ze=0;Ze<=re;Ze+=1){var A=k.get(Ze)||new Set;A.forEach(function(te){var s=te.key,y=te.node,O=te.children,I=O===void 0?[]:O;!j.has(s)&&!ue.has(s)&&!ie(y)&&I.filter(function(L){return!ie(L.node)}).forEach(function(L){j.delete(L.key)})})}ue=new Set;for(var xe=new Set,le=re;le>=0;le-=1){var he=k.get(le)||new Set;he.forEach(function(te){var s=te.parent,y=te.node;if(!(ie(y)||!te.parent||xe.has(te.parent.key))){if(ie(te.parent.node)){xe.add(s.key);return}var O=!0,I=!1;(s.children||[]).filter(function(L){return!ie(L.node)}).forEach(function(L){var z=L.key,S=j.has(z);O&&!S&&(O=!1),!I&&(S||ue.has(z))&&(I=!0)}),O||j.delete(s.key),I&&ue.add(s.key),xe.add(s.key)}})}return{checkedKeys:Array.from(j),halfCheckedKeys:Array.from(ce(ue,j))}}function o(Te,x,k,re){var ie=[],j;re?j=re:j=Ke;var ue=new Set(Te.filter(function(le){var he=!!(0,fe.Z)(k,le);return he||ie.push(le),he})),Ze=new Map,A=0;Object.keys(k).forEach(function(le){var he=k[le],te=he.level,s=Ze.get(te);s||(s=new Set,Ze.set(te,s)),s.add(he),A=Math.max(A,te)}),(0,ke.ZP)(!ie.length,"Tree missing follow keys: ".concat(ie.slice(0,100).map(function(le){return"'".concat(le,"'")}).join(", ")));var xe;return x===!0?xe=Ne(ue,Ze,A,j):xe=F(ue,x.halfCheckedKeys,Ze,A,j),xe}},44979:function(ut,Fe,p){p.d(Fe,{Z:function(){return ke}});function ke(fe,ce){return fe[ce]}},74409:function(ut,Fe,p){p.d(Fe,{F:function(){return te},H8:function(){return he},I8:function(){return le},km:function(){return ie},oH:function(){return A},w$:function(){return j},zn:function(){return Ze}});var ke=p(25190),fe=p(41709),ce=p(37467),Ke=p(84159),Ne=p(44112),F=p(36842),o=p(77151),Te=p(44979),x=["children"];function k(s,y){return"".concat(s,"-").concat(y)}function re(s){return s&&s.type&&s.type.isTreeNode}function ie(s,y){return s!=null?s:y}function j(s){var y=s||{},O=y.title,I=y._title,L=y.key,z=y.children,S=O||"title";return{title:S,_title:I||[S],key:L||"key",children:z||"children"}}function ue(s,y){var O=new Map;function I(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(L||[]).forEach(function(S){var J=S[y.key],n=S[y.children];warning(J!=null,"Tree node must have a certain key: [".concat(z).concat(J,"]"));var ee=String(J);warning(!O.has(ee)||J===null||J===void 0,"Same 'key' exist in the Tree: ".concat(ee)),O.set(ee,!0),I(n,"".concat(z).concat(ee," > "))})}I(s)}function Ze(s){function y(O){var I=(0,Ne.Z)(O);return I.map(function(L){if(!re(L))return(0,o.ZP)(!L,"Tree/TreeNode can only accept TreeNode as children."),null;var z=L.key,S=L.props,J=S.children,n=(0,Ke.Z)(S,x),ee=(0,ce.Z)({key:z},n),U=y(J);return U.length&&(ee.children=U),ee}).filter(function(L){return L})}return y(s)}function A(s,y,O){var I=j(O),L=I._title,z=I.key,S=I.children,J=new Set(y===!0?[]:y),n=[];function ee(U){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return U.map(function(l,u){for(var T=k(ne?ne.pos:"0",u),w=ie(l[z],T),W,ve=0;ve<L.length;ve+=1){var ge=L[ve];if(l[ge]!==void 0){W=l[ge];break}}var V=(0,ce.Z)((0,ce.Z)({},(0,F.Z)(l,[].concat((0,fe.Z)(L),[z,S]))),{},{title:W,key:w,parent:ne,pos:T,children:null,data:l,isStart:[].concat((0,fe.Z)(ne?ne.isStart:[]),[u===0]),isEnd:[].concat((0,fe.Z)(ne?ne.isEnd:[]),[u===U.length-1])});return n.push(V),y===!0||J.has(w)?V.children=ee(l[S]||[],V):V.children=[],V})}return ee(s),n}function xe(s,y,O){var I={};(0,ke.Z)(O)==="object"?I=O:I={externalGetKey:O},I=I||{};var L=I,z=L.childrenPropName,S=L.externalGetKey,J=L.fieldNames,n=j(J),ee=n.key,U=n.children,ne=z||U,l;S?typeof S=="string"?l=function(w){return w[S]}:typeof S=="function"&&(l=function(w){return S(w)}):l=function(w,W){return ie(w[ee],W)};function u(T,w,W,ve){var ge=T?T[ne]:s,V=T?k(W.pos,w):"0",Se=T?[].concat((0,fe.Z)(ve),[T]):[];if(T){var pe=l(T,V),Ue={node:T,index:w,pos:V,key:pe,parentPos:W.node?W.pos:null,level:W.level+1,nodes:Se};y(Ue)}ge&&ge.forEach(function(We,Ye){u(We,Ye,{node:T,pos:V,level:W?W.level+1:-1},Se)})}u(null)}function le(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=y.initWrapper,I=y.processEntity,L=y.onProcessFinished,z=y.externalGetKey,S=y.childrenPropName,J=y.fieldNames,n=arguments.length>2?arguments[2]:void 0,ee=z||n,U={},ne={},l={posEntities:U,keyEntities:ne};return O&&(l=O(l)||l),xe(s,function(u){var T=u.node,w=u.index,W=u.pos,ve=u.key,ge=u.parentPos,V=u.level,Se=u.nodes,pe={node:T,nodes:Se,index:w,key:ve,pos:W,level:V},Ue=ie(ve,W);U[W]=pe,ne[Ue]=pe,pe.parent=U[ge],pe.parent&&(pe.parent.children=pe.parent.children||[],pe.parent.children.push(pe)),I&&I(pe,l)},{externalGetKey:ee,childrenPropName:S,fieldNames:J}),L&&L(l),l}function he(s,y){var O=y.expandedKeys,I=y.selectedKeys,L=y.loadedKeys,z=y.loadingKeys,S=y.checkedKeys,J=y.halfCheckedKeys,n=y.dragOverNodeKey,ee=y.dropPosition,U=y.keyEntities,ne=(0,Te.Z)(U,s),l={eventKey:s,expanded:O.indexOf(s)!==-1,selected:I.indexOf(s)!==-1,loaded:L.indexOf(s)!==-1,loading:z.indexOf(s)!==-1,checked:S.indexOf(s)!==-1,halfChecked:J.indexOf(s)!==-1,pos:String(ne?ne.pos:""),dragOver:n===s&&ee===0,dragOverGapTop:n===s&&ee===-1,dragOverGapBottom:n===s&&ee===1};return l}function te(s){var y=s.data,O=s.expanded,I=s.selected,L=s.checked,z=s.loaded,S=s.loading,J=s.halfChecked,n=s.dragOver,ee=s.dragOverGapTop,U=s.dragOverGapBottom,ne=s.pos,l=s.active,u=s.eventKey,T=(0,ce.Z)((0,ce.Z)({},y),{},{expanded:O,selected:I,checked:L,loaded:z,loading:S,halfChecked:J,dragOver:n,dragOverGapTop:ee,dragOverGapBottom:U,pos:ne,active:l,key:u});return"props"in T||Object.defineProperty(T,"props",{get:function(){return(0,o.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),s}}),T}},63143:function(ut,Fe,p){p.d(Fe,{Z:function(){return ze}});var ke=p(57873),fe=p(37467),ce=p(25190),Ke=p(61992),Ne=p(81485),F=p(84159),o=p(50959),Te=p(10422),x=p(82187),k=p.n(x),re=p(34682),ie=o.forwardRef(function(v,P){var C=v.height,b=v.offsetY,i=v.offsetX,h=v.children,m=v.prefixCls,e=v.onInnerResize,c=v.innerProps,M=v.rtl,Z=v.extra,t={},a={display:"flex",flexDirection:"column"};return b!==void 0&&(t={height:C,position:"relative",overflow:"hidden"},a=(0,fe.Z)((0,fe.Z)({},a),{},(0,Ne.Z)((0,Ne.Z)((0,Ne.Z)((0,Ne.Z)((0,Ne.Z)({transform:"translateY(".concat(b,"px)")},M?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:t},o.createElement(re.Z,{onResize:function(d){var f=d.offsetHeight;f&&e&&e()}},o.createElement("div",(0,ke.Z)({style:a,className:k()((0,Ne.Z)({},"".concat(m,"-holder-inner"),m)),ref:P},c),h,Z)))});ie.displayName="Filler";var j=ie,ue=p(32126);function Ze(v,P){var C="touches"in v?v.touches[0]:v;return C[P?"pageX":"pageY"]}var A=o.forwardRef(function(v,P){var C=v.prefixCls,b=v.rtl,i=v.scrollOffset,h=v.scrollRange,m=v.onStartMove,e=v.onStopMove,c=v.onScroll,M=v.horizontal,Z=v.spinSize,t=v.containerSize,a=v.style,r=v.thumbStyle,d=o.useState(!1),f=(0,Ke.Z)(d,2),g=f[0],K=f[1],N=o.useState(null),$=(0,Ke.Z)(N,2),E=$[0],D=$[1],Q=o.useState(null),R=(0,Ke.Z)(Q,2),H=R[0],B=R[1],G=!b,ae=o.useRef(),se=o.useRef(),_=o.useState(!1),ye=(0,Ke.Z)(_,2),me=ye[0],oe=ye[1],be=o.useRef(),Ce=function(){clearTimeout(be.current),oe(!0),be.current=setTimeout(function(){oe(!1)},3e3)},Le=h-t||0,Be=t-Z||0,Me=o.useMemo(function(){if(i===0||Le===0)return 0;var De=i/Le;return De*Be},[i,Le,Be]),$e=function(Re){Re.stopPropagation(),Re.preventDefault()},Xe=o.useRef({top:Me,dragging:g,pageY:E,startTop:H});Xe.current={top:Me,dragging:g,pageY:E,startTop:H};var tt=function(Re){K(!0),D(Ze(Re,M)),B(Xe.current.top),m(),Re.stopPropagation(),Re.preventDefault()};o.useEffect(function(){var De=function(Je){Je.preventDefault()},Re=ae.current,He=se.current;return Re.addEventListener("touchstart",De),He.addEventListener("touchstart",tt),function(){Re.removeEventListener("touchstart",De),He.removeEventListener("touchstart",tt)}},[]);var nt=o.useRef();nt.current=Le;var it=o.useRef();it.current=Be,o.useEffect(function(){if(g){var De,Re=function(Je){var st=Xe.current,yt=st.dragging,ft=st.pageY,mt=st.startTop;if(ue.Z.cancel(De),yt){var _e=Ze(Je,M)-ft,vt=mt;!G&&M?vt-=_e:vt+=_e;var rt=nt.current,at=it.current,ht=at?vt/at:0,Qe=Math.ceil(ht*rt);Qe=Math.max(Qe,0),Qe=Math.min(Qe,rt),De=(0,ue.Z)(function(){c(Qe,M)})}},He=function(){K(!1),e()};return window.addEventListener("mousemove",Re),window.addEventListener("touchmove",Re),window.addEventListener("mouseup",He),window.addEventListener("touchend",He),function(){window.removeEventListener("mousemove",Re),window.removeEventListener("touchmove",Re),window.removeEventListener("mouseup",He),window.removeEventListener("touchend",He),ue.Z.cancel(De)}}},[g]),o.useEffect(function(){Ce()},[i]),o.useImperativeHandle(P,function(){return{delayHidden:Ce}});var je="".concat(C,"-scrollbar"),Pe={position:"absolute",visibility:me?null:"hidden"},Ae={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return M?(Pe.height=8,Pe.left=0,Pe.right=0,Pe.bottom=0,Ae.height="100%",Ae.width=Z,G?Ae.left=Me:Ae.right=Me):(Pe.width=8,Pe.top=0,Pe.bottom=0,G?Pe.right=0:Pe.left=0,Ae.width="100%",Ae.height=Z,Ae.top=Me),o.createElement("div",{ref:ae,className:k()(je,(0,Ne.Z)((0,Ne.Z)((0,Ne.Z)({},"".concat(je,"-horizontal"),M),"".concat(je,"-vertical"),!M),"".concat(je,"-visible"),me)),style:(0,fe.Z)((0,fe.Z)({},Pe),a),onMouseDown:$e,onMouseMove:Ce},o.createElement("div",{ref:se,className:k()("".concat(je,"-thumb"),(0,Ne.Z)({},"".concat(je,"-thumb-moving"),g)),style:(0,fe.Z)((0,fe.Z)({},Ae),r),onMouseDown:tt}))}),xe=A;function le(v){var P=v.children,C=v.setRef,b=o.useCallback(function(i){C(i)},[]);return o.cloneElement(P,{ref:b})}function he(v,P,C,b,i,h,m){var e=m.getKey;return v.slice(P,C+1).map(function(c,M){var Z=P+M,t=h(c,Z,{style:{width:b}}),a=e(c);return o.createElement(le,{key:a,setRef:function(d){return i(c,d)}},t)})}var te=p(61026),s=p(41171),y=p(63832),O=function(){function v(){(0,s.Z)(this,v),(0,Ne.Z)(this,"maps",void 0),(0,Ne.Z)(this,"id",0),this.maps=Object.create(null)}return(0,y.Z)(v,[{key:"set",value:function(C,b){this.maps[C]=b,this.id+=1}},{key:"get",value:function(C){return this.maps[C]}}]),v}(),I=O;function L(v,P,C){var b=o.useState(0),i=(0,Ke.Z)(b,2),h=i[0],m=i[1],e=(0,o.useRef)(new Map),c=(0,o.useRef)(new I),M=(0,o.useRef)();function Z(){ue.Z.cancel(M.current)}function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Z();var d=function(){e.current.forEach(function(g,K){if(g&&g.offsetParent){var N=(0,te.Z)(g),$=N.offsetHeight;c.current.get(K)!==$&&c.current.set(K,N.offsetHeight)}}),m(function(g){return g+1})};r?d():M.current=(0,ue.Z)(d)}function a(r,d){var f=v(r),g=e.current.get(f);d?(e.current.set(f,d),t()):e.current.delete(f),!g!=!d&&(d?P==null||P(r):C==null||C(r))}return(0,o.useEffect)(function(){return Z},[]),[a,t,c.current,h]}var z=p(5074),S=p(2759),J=10;function n(v,P,C,b,i,h,m,e){var c=o.useRef(),M=o.useState(null),Z=(0,Ke.Z)(M,2),t=Z[0],a=Z[1];return(0,z.Z)(function(){if(t&&t.times<J){if(!v.current){a(function(Le){return(0,fe.Z)({},Le)});return}h();var r=t.targetAlign,d=t.originAlign,f=t.index,g=t.offset,K=v.current.clientHeight,N=!1,$=r,E=null;if(K){for(var D=r||d,Q=0,R=0,H=0,B=Math.min(P.length-1,f),G=0;G<=B;G+=1){var ae=i(P[G]);R=Q;var se=C.get(ae);H=R+(se===void 0?b:se),Q=H}for(var _=D==="top"?g:K-g,ye=B;ye>=0;ye-=1){var me=i(P[ye]),oe=C.get(me);if(oe===void 0){N=!0;break}if(_-=oe,_<=0)break}switch(D){case"top":E=R-g;break;case"bottom":E=H-K+g;break;default:{var be=v.current.scrollTop,Ce=be+K;R<be?$="top":H>Ce&&($="bottom")}}E!==null&&m(E),E!==t.lastTop&&(N=!0)}N&&a((0,fe.Z)((0,fe.Z)({},t),{},{times:t.times+1,targetAlign:$,lastTop:E}))}},[t,v.current]),function(r){if(r==null){e();return}if(ue.Z.cancel(c.current),typeof r=="number")m(r);else if(r&&(0,ce.Z)(r)==="object"){var d,f=r.align;"index"in r?d=r.index:d=P.findIndex(function(N){return i(N)===r.key});var g=r.offset,K=g===void 0?0:g;a({times:0,index:d,offset:K,originAlign:f})}}}function ee(v,P,C,b){var i=C-v,h=P-C,m=Math.min(i,h)*2;if(b<=m){var e=Math.floor(b/2);return b%2?C+e+1:C-e}return i>h?C-(b-h):C+(b-i)}function U(v,P,C){var b=v.length,i=P.length,h,m;if(b===0&&i===0)return null;b<i?(h=v,m=P):(h=P,m=v);var e={__EMPTY_ITEM__:!0};function c(d){return d!==void 0?C(d):e}for(var M=null,Z=Math.abs(b-i)!==1,t=0;t<m.length;t+=1){var a=c(h[t]),r=c(m[t]);if(a!==r){M=t,Z=Z||a!==c(m[t+1]);break}}return M===null?null:{index:M,multiple:Z}}function ne(v,P,C){var b=o.useState(v),i=(0,Ke.Z)(b,2),h=i[0],m=i[1],e=o.useState(null),c=(0,Ke.Z)(e,2),M=c[0],Z=c[1];return o.useEffect(function(){var t=U(h||[],v||[],P);(t==null?void 0:t.index)!==void 0&&(C==null||C(t.index),Z(v[t.index])),m(v)},[v]),[M]}var l=(typeof navigator=="undefined"?"undefined":(0,ce.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),u=l,T=function(v,P){var C=(0,o.useRef)(!1),b=(0,o.useRef)(null);function i(){clearTimeout(b.current),C.current=!0,b.current=setTimeout(function(){C.current=!1},50)}var h=(0,o.useRef)({top:v,bottom:P});return h.current.top=v,h.current.bottom=P,function(m){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=m<0&&h.current.top||m>0&&h.current.bottom;return e&&c?(clearTimeout(b.current),C.current=!1):(!c||C.current)&&i(),!C.current&&c}};function w(v,P,C,b,i){var h=(0,o.useRef)(0),m=(0,o.useRef)(null),e=(0,o.useRef)(null),c=(0,o.useRef)(!1),M=T(P,C);function Z(g,K){ue.Z.cancel(m.current),h.current+=K,e.current=K,!M(K)&&(u||g.preventDefault(),m.current=(0,ue.Z)(function(){var N=c.current?10:1;i(h.current*N),h.current=0}))}function t(g,K){i(K,!0),u||g.preventDefault()}var a=(0,o.useRef)(null),r=(0,o.useRef)(null);function d(g){if(v){ue.Z.cancel(r.current),r.current=(0,ue.Z)(function(){a.current=null},2);var K=g.deltaX,N=g.deltaY,$=g.shiftKey,E=K,D=N;(a.current==="sx"||!a.current&&$&&N&&!K)&&(E=N,D=0,a.current="sx");var Q=Math.abs(E),R=Math.abs(D);a.current===null&&(a.current=b&&Q>R?"x":"y"),a.current==="y"?Z(g,D):t(g,E)}}function f(g){v&&(c.current=g.detail===e.current)}return[d,f]}var W=14/15;function ve(v,P,C){var b=(0,o.useRef)(!1),i=(0,o.useRef)(0),h=(0,o.useRef)(null),m=(0,o.useRef)(null),e,c=function(a){if(b.current){var r=Math.ceil(a.touches[0].pageY),d=i.current-r;i.current=r,C(d)&&a.preventDefault(),clearInterval(m.current),m.current=setInterval(function(){d*=W,(!C(d,!0)||Math.abs(d)<=.1)&&clearInterval(m.current)},16)}},M=function(){b.current=!1,e()},Z=function(a){e(),a.touches.length===1&&!b.current&&(b.current=!0,i.current=Math.ceil(a.touches[0].pageY),h.current=a.target,h.current.addEventListener("touchmove",c),h.current.addEventListener("touchend",M))};e=function(){h.current&&(h.current.removeEventListener("touchmove",c),h.current.removeEventListener("touchend",M))},(0,z.Z)(function(){return v&&P.current.addEventListener("touchstart",Z),function(){var t;(t=P.current)===null||t===void 0||t.removeEventListener("touchstart",Z),e(),clearInterval(m.current)}},[v])}var ge=20;function V(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=v/P*v;return isNaN(C)&&(C=0),C=Math.max(C,ge),Math.floor(C)}function Se(v,P,C,b){var i=o.useMemo(function(){return[new Map,[]]},[v,C.id,b]),h=(0,Ke.Z)(i,2),m=h[0],e=h[1],c=function(Z){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z,a=m.get(Z),r=m.get(t);if(a===void 0||r===void 0)for(var d=v.length,f=e.length;f<d;f+=1){var g,K=v[f],N=P(K);m.set(N,f);var $=(g=C.get(N))!==null&&g!==void 0?g:b;if(e[f]=(e[f-1]||0)+$,N===Z&&(a=f),N===t&&(r=f),a!==void 0&&r!==void 0)break}return{top:e[a-1]||0,bottom:e[r]}};return c}var pe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Ue=[],We={overflowY:"auto",overflowAnchor:"none"};function Ye(v,P){var C=v.prefixCls,b=C===void 0?"rc-virtual-list":C,i=v.className,h=v.height,m=v.itemHeight,e=v.fullHeight,c=e===void 0?!0:e,M=v.style,Z=v.data,t=v.children,a=v.itemKey,r=v.virtual,d=v.direction,f=v.scrollWidth,g=v.component,K=g===void 0?"div":g,N=v.onScroll,$=v.onVirtualScroll,E=v.onVisibleChange,D=v.innerProps,Q=v.extraRender,R=v.styles,H=(0,F.Z)(v,pe),B=!!(r!==!1&&h&&m),G=B&&Z&&(m*Z.length>h||!!f),ae=d==="rtl",se=k()(b,(0,Ne.Z)({},"".concat(b,"-rtl"),ae),i),_=Z||Ue,ye=(0,o.useRef)(),me=(0,o.useRef)(),oe=(0,o.useState)(0),be=(0,Ke.Z)(oe,2),Ce=be[0],Le=be[1],Be=(0,o.useState)(0),Me=(0,Ke.Z)(Be,2),$e=Me[0],Xe=Me[1],tt=(0,o.useState)(!1),nt=(0,Ke.Z)(tt,2),it=nt[0],je=nt[1],Pe=function(){je(!0)},Ae=function(){je(!1)},De=o.useCallback(function(Y){return typeof a=="function"?a(Y):Y==null?void 0:Y[a]},[a]),Re={getKey:De};function He(Y){Le(function(X){var de;typeof Y=="function"?de=Y(X):de=Y;var we=Ut(de);return ye.current.scrollTop=we,we})}var Ve=(0,o.useRef)({start:0,end:_.length}),Je=(0,o.useRef)(),st=ne(_,De),yt=(0,Ke.Z)(st,1),ft=yt[0];Je.current=ft;var mt=L(De,null,null),_e=(0,Ke.Z)(mt,4),vt=_e[0],rt=_e[1],at=_e[2],ht=_e[3],Qe=o.useMemo(function(){if(!B)return{scrollHeight:void 0,start:0,end:_.length-1,offset:void 0};if(!G){var Y;return{scrollHeight:((Y=me.current)===null||Y===void 0?void 0:Y.offsetHeight)||0,start:0,end:_.length-1,offset:void 0}}for(var X=0,de,we,ct,Vt=_.length,Kt=0;Kt<Vt;Kt+=1){var Jt=_[Kt],Qt=De(Jt),At=at.get(Qt),Mt=X+(At===void 0?m:At);Mt>=Ce&&de===void 0&&(de=Kt,we=X),Mt>Ce+h&&ct===void 0&&(ct=Kt),X=Mt}return de===void 0&&(de=0,we=0,ct=Math.ceil(h/m)),ct===void 0&&(ct=_.length-1),ct=Math.min(ct+1,_.length-1),{scrollHeight:X,start:de,end:ct,offset:we}},[G,B,Ce,_,ht,h]),ot=Qe.scrollHeight,Ee=Qe.start,Ge=Qe.end,qe=Qe.offset;Ve.current.start=Ee,Ve.current.end=Ge;var lt=o.useState({width:0,height:h}),et=(0,Ke.Z)(lt,2),Ie=et[0],gt=et[1],pt=function(X){gt({width:X.width||X.offsetWidth,height:X.height||X.offsetHeight})},dt=(0,o.useRef)(),St=(0,o.useRef)(),Ht=o.useMemo(function(){return V(Ie.width,f)},[Ie.width,f]),Ft=o.useMemo(function(){return V(Ie.height,ot)},[Ie.height,ot]),Zt=ot-h,xt=(0,o.useRef)(Zt);xt.current=Zt;function Ut(Y){var X=Y;return Number.isNaN(xt.current)||(X=Math.min(X,xt.current)),X=Math.max(X,0),X}var Pt=Ce<=0,Rt=Ce>=Zt,zt=T(Pt,Rt),Ct=function(){return{x:ae?-$e:$e,y:Ce}},Nt=(0,o.useRef)(Ct()),kt=(0,S.zX)(function(){if($){var Y=Ct();(Nt.current.x!==Y.x||Nt.current.y!==Y.y)&&($(Y),Nt.current=Y)}});function Tt(Y,X){var de=Y;X?((0,Te.flushSync)(function(){Xe(de)}),kt()):He(de)}function Wt(Y){var X=Y.currentTarget.scrollTop;X!==Ce&&He(X),N==null||N(Y),kt()}var Dt=function(X){var de=X,we=f-Ie.width;return de=Math.max(de,0),de=Math.min(de,we),de},Bt=(0,S.zX)(function(Y,X){X?((0,Te.flushSync)(function(){Xe(function(de){var we=de+(ae?-Y:Y);return Dt(we)})}),kt()):He(function(de){var we=de+Y;return we})}),jt=w(B,Pt,Rt,!!f,Bt),Ot=(0,Ke.Z)(jt,2),bt=Ot[0],Lt=Ot[1];ve(B,ye,function(Y,X){return zt(Y,X)?!1:(bt({preventDefault:function(){},deltaY:Y}),!0)}),(0,z.Z)(function(){function Y(de){B&&de.preventDefault()}var X=ye.current;return X.addEventListener("wheel",bt),X.addEventListener("DOMMouseScroll",Lt),X.addEventListener("MozMousePixelScroll",Y),function(){X.removeEventListener("wheel",bt),X.removeEventListener("DOMMouseScroll",Lt),X.removeEventListener("MozMousePixelScroll",Y)}},[B]),(0,z.Z)(function(){f&&Xe(function(Y){return Dt(Y)})},[Ie.width,f]);var It=function(){var X,de;(X=dt.current)===null||X===void 0||X.delayHidden(),(de=St.current)===null||de===void 0||de.delayHidden()},wt=n(ye,_,at,m,De,function(){return rt(!0)},He,It);o.useImperativeHandle(P,function(){return{getScrollInfo:Ct,scrollTo:function(X){function de(we){return we&&(0,ce.Z)(we)==="object"&&("left"in we||"top"in we)}de(X)?(X.left!==void 0&&Xe(Dt(X.left)),wt(X.top)):wt(X)}}}),(0,z.Z)(function(){if(E){var Y=_.slice(Ee,Ge+1);E(Y,_)}},[Ee,Ge,_]);var Gt=Se(_,De,at,m),Yt=Q==null?void 0:Q({start:Ee,end:Ge,virtual:G,offsetX:$e,offsetY:qe,rtl:ae,getSize:Gt}),Xt=he(_,Ee,Ge,f,vt,t,Re),Et=null;h&&(Et=(0,fe.Z)((0,Ne.Z)({},c?"height":"maxHeight",h),We),B&&(Et.overflowY="hidden",f&&(Et.overflowX="hidden"),it&&(Et.pointerEvents="none")));var $t={};return ae&&($t.dir="rtl"),o.createElement("div",(0,ke.Z)({style:(0,fe.Z)((0,fe.Z)({},M),{},{position:"relative"}),className:se},$t,H),o.createElement(re.Z,{onResize:pt},o.createElement(K,{className:"".concat(b,"-holder"),style:Et,ref:ye,onScroll:Wt,onMouseEnter:It},o.createElement(j,{prefixCls:b,height:ot,offsetX:$e,offsetY:qe,scrollWidth:f,onInnerResize:rt,ref:me,innerProps:D,rtl:ae,extra:Yt},Xt))),G&&ot>h&&o.createElement(xe,{ref:dt,prefixCls:b,scrollOffset:Ce,scrollRange:ot,rtl:ae,onScroll:Tt,onStartMove:Pe,onStopMove:Ae,spinSize:Ft,containerSize:Ie.height,style:R==null?void 0:R.verticalScrollBar,thumbStyle:R==null?void 0:R.verticalScrollBarThumb}),G&&f>Ie.width&&o.createElement(xe,{ref:St,prefixCls:b,scrollOffset:$e,scrollRange:f,rtl:ae,onScroll:Tt,onStartMove:Pe,onStopMove:Ae,spinSize:Ht,containerSize:Ie.width,horizontal:!0,style:R==null?void 0:R.horizontalScrollBar,thumbStyle:R==null?void 0:R.horizontalScrollBarThumb}))}var q=o.forwardRef(Ye);q.displayName="List";var Oe=q,ze=Oe}}]);
